<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE modules PUBLIC
  "-//Penrose/DTD Modules ${product.specification}//EN"
  "http://penrose.safehaus.org/dtd/modules.dtd">

<modules>

  <module name="Synchronization">
    <module-class>org.safehaus.penrose.nis.module.NISSynchronizationModule</module-class>
    <parameter>
      <param-name>source</param-name>
      <param-value>federation_${nis.name}_yp.LDAP</param-value>
    </parameter>
    <parameter>
      <param-name>target</param-name>
      <param-value>LDAP</param-value>
    </parameter>
    <parameter>
      <param-name>errors</param-name>
      <param-value>errors</param-value>
    </parameter>
    <parameter>
      <param-name>ignoredObjectClasses</param-name>
      <param-value>nisNoSync</param-value>
    </parameter>
    <parameter>
      <param-name>ignoredAttributes</param-name>
      <param-value>seeAlso</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.aliases</param-name>
      <param-value>ou=Aliases</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.automounts</param-name>
      <param-value>ou=Automounts</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.bootparams</param-name>
      <param-value>ou=BootParams</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.ethers</param-name>
      <param-value>ou=Ethers</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.groups</param-name>
      <param-value>ou=Groups</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.hosts</param-name>
      <param-value>ou=Hosts</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.netgroups</param-name>
      <param-value>ou=Netgroups</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.netids</param-name>
      <param-value>ou=NetIDs</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.networks</param-name>
      <param-value>ou=Networks</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.protocols</param-name>
      <param-value>ou=Protocols</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.rpcs</param-name>
      <param-value>ou=RPCs</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.services</param-name>
      <param-value>ou=Services</param-value>
    </parameter>
    <parameter>
      <param-name>nisMap.users</param-name>
      <param-value>ou=Users</param-value>
    </parameter>
  </module>

  <module name="IdentityLinking">
    <module-class>org.safehaus.penrose.federation.module.IdentityLinkingModule</module-class>
    <parameter>
      <param-name>source</param-name>
      <param-value>LDAP</param-value>
    </parameter>
    <parameter>
      <param-name>target</param-name>
      <param-value>federation.Global</param-value>
    </parameter>
    <parameter>
      <param-name>sourceAttribute</param-name>
      <param-value>seeAlso</param-value>
    </parameter>
    <parameter>
      <param-name>sourceKey</param-name>
      <param-value>dn</param-value>
    </parameter>
    <parameter>
      <param-name>targetAttribute</param-name>
      <param-value>seeAlso</param-value>
    </parameter>
    <parameter>
      <param-name>targetKey</param-name>
      <param-value>dn</param-value>
    </parameter>
    <parameter>
      <param-name>mapping</param-name>
      <param-value>import_users</param-value>
    </parameter>
    <parameter>
      <param-name>mappingPrefix</param-name>
      <param-value>n</param-value>
    </parameter>
  </module>

  <module name="Users">
    <module-class>org.safehaus.penrose.federation.module.OwnershipAlignmentModule</module-class>
    <parameter>
      <param-name>objectClass</param-name>
      <param-value>posixAccount</param-value>
    </parameter>
    <parameter>
      <param-name>rdnAttribute</param-name>
      <param-value>uid</param-value>
    </parameter>
    <parameter>
      <param-name>sourceAttribute</param-name>
      <param-value>uidNumber</param-value>
    </parameter>
    <parameter>
      <param-name>targetAttribute</param-name>
      <param-value>uidNumber</param-value>
    </parameter>
    <parameter>
      <param-name>linkingAttribute</param-name>
      <param-value>seeAlso</param-value>
    </parameter>
    <parameter>
      <param-name>linkingKey</param-name>
      <param-value>dn</param-value>
    </parameter>
  </module>

  <module name="Groups">
    <module-class>org.safehaus.penrose.federation.module.OwnershipAlignmentModule</module-class>
    <parameter>
      <param-name>objectClass</param-name>
      <param-value>posixGroup</param-value>
    </parameter>
    <parameter>
      <param-name>rdnAttribute</param-name>
      <param-value>cn</param-value>
    </parameter>
    <parameter>
      <param-name>sourceAttribute</param-name>
      <param-value>gidNumber</param-value>
    </parameter>
    <parameter>
      <param-name>targetAttribute</param-name>
      <param-value>gidNumber</param-value>
    </parameter>
    <parameter>
      <param-name>linkingAttribute</param-name>
      <param-value>seeAlso</param-value>
    </parameter>
    <parameter>
      <param-name>linkingKey</param-name>
      <param-value>dn</param-value>
    </parameter>
  </module>

</modules>